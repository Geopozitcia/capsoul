Done! Congratulations on your new bot. You will find it at t.me/mycapsuletestbot. You can now add a description, about section and profile picture for your bot, see /help for a list of commands. By the way, when you've finished creating your cool bot, ping our Bot Support if you want a better username for it. Just make sure the bot is fully operational before you do this.

Use this token to access the HTTP API:
7702332807:AAHgFpGZbSzd0VxOL6oFGWT7BOKWq5kk21E
Keep your token secure and store it safely, it can be used by anyone to control your bot.

For a description of the Bot API, see this page: https://core.telegram.org/bots/api

---

отлично, перейдем к следующей стадии разработки. Сейчас мои хэндлеры выглядят так: from aiogram import Router, types, F
from aiogram.filters import Command
from aiogram.types import ReplyKeyboardRemove
from keyboards.reply_kb import contact_keyboard
import aiosqlite

router = Router()

DB_NAME = "CAPSOUL.db"


@router.message(Command("start"))
async def start_handler(message: types.Message):
    user_id = message.from_user.id
    name = message.from_user.full_name
    username = message.from_user.username
    username = f"@{username}" if username else "Не указан"

    async with aiosqlite.connect(DB_NAME) as db:
        cursor = await db.execute("SELECT id, phone FROM users WHERE id = ?", (user_id,))
        user = await cursor.fetchone()

        if not user:
            await db.execute("""
                INSERT OR IGNORE INTO users (id, name, user_name, phone)
                VALUES (?, ?, ?, ?)""", (user_id, name, username, ""))
            await db.commit()

        if not user or not user[1]:
            await message.answer(
                f"Здравствуйте, {name}! Меня зовут Капсула, я ваш умный помощник из студии дизайна интерьеров Capsoul.\n\n"
                f"Для начала запишем ваш номер телефона. Он нужен только для связи с вами.\nОбещаем - спама не будет",
                reply_markup=await contact_keyboard()
            )
        else:
            await message.answer(
                f"Здравствуйте, {name}. Что вы хотите сделать?",
                reply_markup=ReplyKeyboardRemove()
            )


@router.message(F.content_type == types.ContentType.CONTACT)
async def get_contact(message: types.Message):
    contact = message.contact
    user_id = message.from_user.id
    phone = contact.phone_number

    async with aiosqlite.connect(DB_NAME) as db:
        await db.execute("""
            UPDATE users SET phone = ? WHERE id = ?""", (phone, user_id))
        await db.commit()

    await message.answer(
        "Спасибо! Ваш номер телефона сохранён.\nДавайте уточним ваши пожелания к дизайн проекту.",
        reply_markup=ReplyKeyboardRemove()
    ). Теперь когда новый пользователь заходит в бот он видит преветсвие и предложение поделится номером телефона. Когда он делится номером телефона бот сохраняет его и даннные пользователя в базу данных, и пока что на этом работа бота заканчивается. Задача следующая - теперь когда пользователь вводит номер телефона бот переходит в стадию анкетирования. Т.е. через fsm будут задоватся вопросы, и ответы будут сохранятся, а после полного завершения опроса сохранятся в базу данных. Ответы в анкете заранее предопределены и будут задаватся как reply кнопки (для них у меня есть файл reply_kb.py). И так я опишу тебе вопросы и ответы, а ты дополнишь мой файл  с хэндлерами функциями для анкеты. Вопрос 1) "Какая основная цель разработки
дизайн-проекта и ремонта для
вашего объекта?". Ответами на этот вопрос становятся reply кнопки - 1) "для себя" 2) "для бизнеса". В зависимости от Ответа показываем сообщения: в первом слкчае: "Отлично! Дизайн для инвестиций — это всегда про стиль,
функциональность и универсальность. Мы поможем сделать
ваш объект максимально привлекательным для потенциальных
клиентов". Во втором случае: " Здорово! Создавать личное пространство для жизни — это
важный и вдохновляющий процесс.
Давайте сделаем ваш дом идеальным именно для вас". Вопрос 2) "у вас уже был опыт работы с дизайнером?". На этот вопрос три варианта ответа: 1) "Да, был положительный
опыт". 2) "Да, но опыт был
неудачным" 3) "Нет это мой первый
проект с дизайнером". Варианты ответов: Если был выбран первый вариант ответа бот отвечает: "расно! Тогда вы уже знаете, как важно доверять
«Прекрасно! Тогда вы уже знаете, как важно доверять
профессионалам. Мы постараемся превзойти ваши ожидания". Если был выбран второй вариант ответа, бот отвечает: "«Понимаю, это бывает. Мы сделаем всё, чтобы ваш новый
проект прошёл гладко и результат вас порадовал". Если был выбран третий вариант то ответ: "Как здорово! Первый проект — это всегда волнительно, но мы
будем рядом на каждом этапе, чтобы всё прошло легко и
приятно". Далее следует вопрос 3) "есть ли команда строителей которым вы можете доверить ремонт?".  Варианты ответа в виде reply кнопок: 1) "да" 2) "нет" 3) "не знаю". Ответы: если был выбран первый вариант ответ бота  будет "Это очень хорошо) слаженная работа с проверенной
командой — это уже половина успеха. Мы можем помочь с
координацией и рекомендациями!". если второй, то ответ: "Не переживайте, мы постараемся помочь с этим". если третий то ответ бота "Это нормально! Мы поможем вам разобраться с этим
вопросом, когда придёт время. Главное — начать с проекта! ". Вопрос 4) "когда вы планируете приступить к ремонту?". Ответы на четвертый вопрос: 1) "В ближайшее время ", 2) "Через 2-3 месяца " 3) "Без особой спешки" 4) "Еще не скоро". Какой бы не был ответ на этом этапе бот отвечает "Все понятно! Учтем это. В любом случае наши проекты
создаются в самые короткие сроки". Вопрос 5) "мы хотели бы предложить вам стиль из нашего
каталога капсульных интерьеров. Выберите тот, который
вам ближе". тут бот должен послать еще одно сообщение с текстом: "Минимализм — для тех,
кто ценит простоту,
порядок и
функциональность. Современная классика —
для тех, кто любит
элегантность, уют и
вечную актуальность. Скандинавский стиль —
для тех, у кого нет вкуса." Варианты это сообщение 1) Минимализм, 2) Современная классика 3) Скандинавский стиль. На этом моменте заканчивается fsm, и ответы должны быть внесены в базу данных. Нужно заполнить столбцы:  5) aim_of_project (цель проекта - для себя или для бизнеса). 6) past_experience (прошлый опыт в дизайне). 7) team_exist (есть ли у заказчика группа строителей с которыми он будет делать ремонт) 8) date_of_project (на какое время намечено начало ремонта) 9) design_preferences (любимый стиль в дизайне). Записывай в базу данных текст ответа пользователя.  Предоставь мне новый файл с хэндлерами и reply кнопки для файла keyboards/reply_kb.py в качесвте ответов. 